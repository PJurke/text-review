# ----- OPERATIONS

type Query {

    """ Get a text document by its ID """
    textDocument(id: ID!): TextDocument

}

type Mutation {

    """ Add a highlight to a text document """
    addHighlight(textDocumentId: ID!, paragraphId: ID!, start: Int!, end: Int!): AddHighlightResponse!

    """ Remove an existing highlight from a text document """
    removeHighlight(textDocumentId: ID!, highlightId: ID!): RemoveHighlightResponse!

}

# ----- MAIN TYPES

""" A text document with paragraphs and highlights """
type TextDocument {
    id: ID!
    title: String!
    paragraphs: [Paragraph!]!
    highlights: [Highlight!]!
}

""" A single paragraph of a text document """
type Paragraph {
    id: ID!
    text: String!
}

""" A highlighted text range within a paragraph """
type Highlight {
    id: ID!
    paragraphId: ID!
    start: Int!
    end: Int!
}

# ----- RESPONSE TYPES

""" Response for adding a highlight """
type AddHighlightResponse {
    success: Boolean!
    message: String
    highlight: Highlight
}

""" Response for removing a highlight """
type RemoveHighlightResponse {
    success: Boolean!
    message: String
}